<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">API Configuration | Mantil Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ksokolic.github.io/MantilDocs/api_configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Configuration | Mantil Docs"><meta data-rh="true" name="description" content="Environment Variables"><meta data-rh="true" property="og:description" content="Environment Variables"><link data-rh="true" rel="icon" href="/MantilDocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ksokolic.github.io/MantilDocs/api_configuration"><link data-rh="true" rel="alternate" href="https://ksokolic.github.io/MantilDocs/api_configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://ksokolic.github.io/MantilDocs/api_configuration" hreflang="x-default"><link rel="stylesheet" href="/MantilDocs/assets/css/styles.c7402476.css">
<link rel="preload" href="/MantilDocs/assets/js/runtime~main.2076ab36.js" as="script">
<link rel="preload" href="/MantilDocs/assets/js/main.5aa7e259.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/MantilDocs/"><div class="navbar__logo"><img src="/MantilDocs/img/logo.svg" alt="Mantil Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/MantilDocs/img/logo.svg" alt="Mantil Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Mantil Docs</b></a><a href="https://www.mantil.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mantil-io/mantil" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/MantilDocs/Detailed AWS Setup/AWS Costs">Detailed AWS Setup</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/Examples">Examples</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/MantilDocs/Usage/api">Usage</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/analytics">Anonymous Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/MantilDocs/api_configuration">API Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/aws_install">Detailed AWS Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/cli_install">Mantil CLI Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/cloud_development">Developing in The Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/credits">Credits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/general_concepts">General Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/getting_started">getting_started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/MantilDocs/troubleshooting">Support</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/MantilDocs/">üè†</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/MantilDocs/api_configuration">API Configuration</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API Configuration</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="environment-variables">Environment Variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">‚Äã</a></h2><p>APIs come preconfigured with default settings for memory size, timeout and environment variables. You can customize these settings using the <code>config/environment.yml</code> file. Values can be defined on a project, stage or function level. If the same value is defined on multiple levels, the lowest level will take precedence. The final values will be visible in <code>config/state.yml</code> after deployment.</p><p>For example, let&#x27;s say we created a project with two functions called <code>one</code> and <code>two</code> and deployed it to two stages called <code>development</code> and <code>production</code>. After creating both stages, the <code>config/state.yml</code> file will look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">name: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stages:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- name: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 900</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoiZGV2ZWxvcG1lbnQiLCJNQU5USUxfV09SS1NQQUNFIjoiN2Vub2o1TjVRby0yZVNwQkhWVEJlQSJ9LCJXc0ZvcndhcmRlck5hbWUiOiJtYW50aWwtbXktcHJvamVjdC1kZXZlbG9wbWVudC13cy1mb3J3YXJkZXItYzVjNjM2ZTAiLCJOYW1pbmdUZW1wbGF0ZSI6Im15LXByb2plY3QtZGV2ZWxvcG1lbnQtJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: two</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 900</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoiZGV2ZWxvcG1lbnQiLCJNQU5USUxfV09SS1NQQUNFIjoiN2Vub2o1TjVRby0yZVNwQkhWVEJlQSJ9LCJXc0ZvcndhcmRlck5hbWUiOiJtYW50aWwtbXktcHJvamVjdC1kZXZlbG9wbWVudC13cy1mb3J3YXJkZXItYzVjNjM2ZTAiLCJOYW1pbmdUZW1wbGF0ZSI6Im15LXByb2plY3QtZGV2ZWxvcG1lbnQtJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- name: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 900</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoicHJvZHVjdGlvbiIsIk1BTlRJTF9XT1JLU1BBQ0UiOiI3ZW5vajVONVFvLTJlU3BCSFZUQmVBIn0sIldzRm9yd2FyZGVyTmFtZSI6Im1hbnRpbC1teS1wcm9qZWN0LXByb2R1Y3Rpb24td3MtZm9yd2FyZGVyLWM1YzYzNmUwIiwiTmFtaW5nVGVtcGxhdGUiOiJteS1wcm9qZWN0LXByb2R1Y3Rpb24tJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: two</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 900</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoicHJvZHVjdGlvbiIsIk1BTlRJTF9XT1JLU1BBQ0UiOiI3ZW5vajVONVFvLTJlU3BCSFZUQmVBIn0sIldzRm9yd2FyZGVyTmFtZSI6Im1hbnRpbC1teS1wcm9qZWN0LXByb2R1Y3Rpb24td3MtZm9yd2FyZGVyLWM1YzYzNmUwIiwiTmFtaW5nVGVtcGxhdGUiOiJteS1wcm9qZWN0LXByb2R1Y3Rpb24tJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: production</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Since we have not yet defined any custom values in <code>config/environment.yml</code> all values will be set to their defaults. Note that Mantil also sets some default environment variables, always starting with <code>MANTIL_</code>. So now we can define some custom values:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">project:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  timeout: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    KEY: project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stages: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memory_size: 256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeout: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          KEY: function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      memory_size: 512</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timeout: 120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        KEY: stage</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>After deploying both stages again the final state will look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">name: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stages:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- name: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      KEY: function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoiZGV2ZWxvcG1lbnQiLCJNQU5USUxfV09SS1NQQUNFIjoiN2Vub2o1TjVRby0yZVNwQkhWVEJlQSJ9LCJXc0ZvcndhcmRlck5hbWUiOiJtYW50aWwtbXktcHJvamVjdC1kZXZlbG9wbWVudC13cy1mb3J3YXJkZXItYzVjNjM2ZTAiLCJOYW1pbmdUZW1wbGF0ZSI6Im15LXByb2plY3QtZGV2ZWxvcG1lbnQtJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: two</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      KEY: project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoiZGV2ZWxvcG1lbnQiLCJNQU5USUxfV09SS1NQQUNFIjoiN2Vub2o1TjVRby0yZVNwQkhWVEJlQSJ9LCJXc0ZvcndhcmRlck5hbWUiOiJtYW50aWwtbXktcHJvamVjdC1kZXZlbG9wbWVudC13cy1mb3J3YXJkZXItYzVjNjM2ZTAiLCJOYW1pbmdUZW1wbGF0ZSI6Im15LXByb2plY3QtZGV2ZWxvcG1lbnQtJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- name: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 512</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      KEY: stage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoicHJvZHVjdGlvbiIsIk1BTlRJTF9XT1JLU1BBQ0UiOiI3ZW5vajVONVFvLTJlU3BCSFZUQmVBIn0sIldzRm9yd2FyZGVyTmFtZSI6Im1hbnRpbC1teS1wcm9qZWN0LXByb2R1Y3Rpb24td3MtZm9yd2FyZGVyLWM1YzYzNmUwIiwiTmFtaW5nVGVtcGxhdGUiOiJteS1wcm9qZWN0LXByb2R1Y3Rpb24tJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: two</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory_size: 512</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 120</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      KEY: stage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_GO_CONFIG: eyJSZXNvdXJjZVRhZ3MiOnsiTUFOVElMX0tFWSI6ImM1YzYzNmUwIiwiTUFOVElMX1BST0pFQ1QiOiJteS1wcm9qZWN0IiwiTUFOVElMX1NUQUdFIjoicHJvZHVjdGlvbiIsIk1BTlRJTF9XT1JLU1BBQ0UiOiI3ZW5vajVONVFvLTJlU3BCSFZUQmVBIn0sIldzRm9yd2FyZGVyTmFtZSI6Im1hbnRpbC1teS1wcm9qZWN0LXByb2R1Y3Rpb24td3MtZm9yd2FyZGVyLWM1YzYzNmUwIiwiTmFtaW5nVGVtcGxhdGUiOiJteS1wcm9qZWN0LXByb2R1Y3Rpb24tJXMtYzVjNjM2ZTAifQ==</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_KEY: c5c636e0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_PROJECT: my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      MANTIL_STAGE: production</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p align="right"> <a href="https://github.com/mantil-io/mantil/tree/master/docs#mantil-documentation" target="_blank" rel="noopener noreferrer">‚Üµ Back to Documentation Home!</a></p><h1></h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="scheduled-execution">Scheduled execution<a class="hash-link" href="#scheduled-execution" title="Direct link to heading">‚Äã</a></h2><p>Using the <code>cron</code> field, you can set up a rule to execute an API on a schedule. For example, with the following setup, the default method of the <code>one</code> API will be executed every minute:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">project:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stages: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      functions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cron: &quot;* * * * ? *&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          KEY: function</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For more information about the cron syntax, please refer to the AWS docs:
<a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/RunLambdaSchedule.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/RunLambdaSchedule.html</a></p><p align="right"> <a href="https://github.com/mantil-io/mantil/tree/master/docs#mantil-documentation" target="_blank" rel="noopener noreferrer">‚Üµ Back to Documentation Home!</a></p><h1></h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="private-apis">Private APIs<a class="hash-link" href="#private-apis" title="Direct link to heading">‚Äã</a></h2><p>Using the <code>private</code> field, you can set your functions as private, which will require additional authorization to execute methods through API. Private and public keys are generated when creating a new stage which are then used to generate JWT on each request. This token is verified through the authorizer Lambda function. Token generation is done automatically if you&#x27;re using the <code>invoke</code> command.</p><p align="right"> <a href="https://github.com/mantil-io/mantil/tree/master/docs#mantil-documentation" target="_blank" rel="noopener noreferrer">‚Üµ Back to Documentation Home!</a></p><h1></h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="custom-domain-names">Custom domain names<a class="hash-link" href="#custom-domain-names" title="Direct link to heading">‚Äã</a></h2><p>Custom domain names are simpler and more intuitive URLs that you can provide to your API users. By default, you can access APIs through the default API gateway URLs, which are generated for each stage and have the following format:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://&lt;http-api-id&gt;.execute-api.&lt;region&gt;.amazonaws.com/&lt;api_name&gt;/&lt;method_name&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>and</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">wss://&lt;ws-api-id&gt;.execute-api.&lt;region&gt;.amazonaws.com/$default</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In order to set up a custom domain for your stage, you need the following:</p><ul><li>a Route 53 public hosted zone</li><li>a registered domain configured to use the name servers of that hosted zone. The easiest way to achieve this is by registering the domain with Route 53. This will automatically create a hosted zone.</li><li>a certificate covering all the subdomains that will be created</li></ul><p>Then you can use the <code>custom_domain</code> field in the stage config to set up the domain. It accepts the following arguments:
<code>domain_name</code> - (Required) The registered domain name.
<code>http_subdomain</code> - (Optional) The subdomain to use for HTTP APIs. Defaults to <code>api</code>.
<code>ws_subdomain</code> - (Optional) The subdomain to use for WebSocket APIs. Defaults to <code>ws</code>.
<code>cert_domain</code> - (Optional) The domain name of the certificate. Defaults to the value of the <code>domain_name</code> parameter.
<code>hosted_zone_domain</code> - (Optional) The domain name of the hosted zone. Defaults to the value of the <code>domain_name</code> parameter.</p><p>For example, the simplest setup for the domain <code>example.com</code> would look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">project:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stages: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - name: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      custom_domain:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        domain_name: example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>After deploying this stage it will have the following endpoints:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://api.example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>and</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">wss://ws.example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p align="right"> <a href="https://github.com/mantil-io/mantil/tree/master/docs#mantil-documentation" target="_blank" rel="noopener noreferrer">‚Üµ Back to Documentation Home!</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/MantilDocs/analytics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Anonymous Analytics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/MantilDocs/aws_install"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Detailed AWS Setup</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment Variables</a></li><li><a href="#scheduled-execution" class="table-of-contents__link toc-highlight">Scheduled execution</a></li><li><a href="#private-apis" class="table-of-contents__link toc-highlight">Private APIs</a></li><li><a href="#custom-domain-names" class="table-of-contents__link toc-highlight">Custom domain names</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/MantilDocs/assets/js/runtime~main.2076ab36.js"></script>
<script src="/MantilDocs/assets/js/main.5aa7e259.js"></script>
</body>
</html>