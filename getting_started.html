<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<title data-rh="true">Your First Mantil Project | Mantil Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.mantil.com/getting_started"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Your First Mantil Project | Mantil Docs"><meta data-rh="true" name="description" content="This guide has accompanying video available on youtube."><meta data-rh="true" property="og:description" content="This guide has accompanying video available on youtube."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.mantil.com/getting_started"><link data-rh="true" rel="alternate" href="https://docs.mantil.com/getting_started" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.mantil.com/getting_started" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.539eb8aa.css">
<link rel="preload" href="/assets/js/runtime~main.cd744ea0.js" as="script">
<link rel="preload" href="/assets/js/main.2a6389a4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Mantil Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Mantil Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">MantilDocs</b></a><a class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a href="https://www.mantil.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.mantil.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mantil-io/mantil" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cli_install">Mantil CLI Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/aws_detailed_setup/aws_credentials">AWS Detailed Setup</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/getting_started">Your First Mantil Project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/concepts/node">General Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/usage/api">Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/api_configuration/env_variables">API Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/troubleshooting">Support and Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analytics">Anonymous Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/credits">Credits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">üè†</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/getting_started">Your First Mantil Project</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Your First Mantil Project</h1><p>This guide has accompanying video available on <a href="https://youtu.be/Fp64VgSLoTQ" target="_blank" rel="noopener noreferrer">youtube</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">‚Äã</a></h2><ul><li>Go</li><li>Mantil <a href="/cli_install">cli</a></li><li>Mantil <a href="/aws_detailed_setup/node_install">node</a></li></ul><p>We assume that you are Go programmer so you have Go installed. After that you
need to download Mantil cli and set up Mantil node on your AWS account. </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="your-first-mantil-project-1">Your first Mantil project<a class="hash-link" href="#your-first-mantil-project-1" title="Direct link to heading">‚Äã</a></h2><p>Create a new project with <code>mantil new</code> command. It just creates <a href="https://github.com/mantil-io/docs/blob/main/concepts.md#project" target="_blank" rel="noopener noreferrer">project structure</a>.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil new my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Your project is ready in ./my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú tree my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ ping.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ ping_test.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ¬†¬† ‚îú‚îÄ‚îÄ environment.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ¬†¬† ‚îî‚îÄ‚îÄ state.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ go.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ go.sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îî‚îÄ‚îÄ test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‚îú‚îÄ‚îÄ init.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ‚îî‚îÄ‚îÄ ping_test.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 directories, 8 files</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>API folder is most interesting. Each Go package in the API folder, after
deployment, becomes part of you applications API interface.</p><p>All other project commands are intended to be used from somewhere in the project
tree. So enter the project now <code>cd my-project</code>.  </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="project-stage">Project Stage<a class="hash-link" href="#project-stage" title="Direct link to heading">‚Äã</a></h2><p>One Mantil project can have multiple deployments, each called deployment stage.
So we can have stage for development, staging, production and so on. Each stage
requires some resources on AWS and each stage is completely isolated from all
other stages.<br>
<!-- -->Stage is created on the specified node (if you have just one node than you don&#x27;t
need to say on which node).</p><p>To create first stage, named development run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil stage new development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating stage development on node demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploy successful!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build time: 625ms, upload: 728ms (5.4 MiB), update: 28.573s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stage development is ready!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Endpoint: https://lh5rfrc3gf.execute-api.eu-central-1.amazonaws.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This operation usually takes less than a minute to complete. Upon completion we
have fully functional API on the AWS infrastructure. </p><p>To see what resources is created run <code>mantil aws resources --stage development</code>.</p><p>Endpoint from the command output is the api URL.
To test that API exists run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil invoke ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pong</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can get the same result with any other tool:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú curl -X POST $(mantil env --url)/ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pong%</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>mantil env --url</code> returns API endpoint.</p><p>Each Go package in the api folder becomes route in the project URL. Package is
expected to have exported New method which returns struct pointer. All exported
methods of that struct will become accessible on endpoint/package/method URL. If
there is a method named Default it is accessible on the endpoint/package
(without method name) URL.</p><p>In our example package name is ping and we have Default method:</p><div class="codeBlockContainer_I0IT language-Go theme-code-block"><div class="codeBlockContent_wNvx Go"><pre tabindex="0" class="prism-code language-Go codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">func (p *Ping) Default() string {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;pong&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="exploring-demo-project">Exploring demo project<a class="hash-link" href="#exploring-demo-project" title="Direct link to heading">‚Äã</a></h2><p>To execute non-default method we need to add method name to the path. Here is example of calling another method, named
<a href="https://github.com/mantil-io/template-ping/blob/11ff351b83ded21b93e6bdb0bd409273ef6075a6/api/ping/ping.go#L27" target="_blank" rel="noopener noreferrer">Hello</a>:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil invoke ping/hello --data &quot;World&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, World</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Hello method is again simple string in string out. </p><div class="codeBlockContainer_I0IT language-Go theme-code-block"><div class="codeBlockContent_wNvx Go"><pre tabindex="0" class="prism-code language-Go codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">func (p *Ping) Hello(ctx context.Context, name string) (string, error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;Hello, &quot; + name, nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>You can also use curl for calling any method:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú curl -X POST $(mantil env --url)/ping/hello --data &quot;World&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello, World%</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><a href="https://github.com/mantil-io/template-ping/blob/11ff351b83ded21b93e6bdb0bd409273ef6075a6/api/ping/ping.go#L42" target="_blank" rel="noopener noreferrer">ReqRsp</a>
demonstrates JSON formatted request/response:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil invoke ping/reqrsp --data &#x27;{&quot;name&quot;:&quot;World&quot;}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;Response&quot;: &quot;Hello, World&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The
<a href="https://github.com/mantil-io/template-ping/blob/11ff351b83ded21b93e6bdb0bd409273ef6075a6/api/ping/ping.go#L61" target="_blank" rel="noopener noreferrer">logs</a>
method demonstrates display of function logs with invoke command. If your Lambda
function is logging, the log lines are captured and shown before command output:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil invoke ping/logs --data &#x27;{&quot;name&quot;:&quot;Foo&quot;}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Œª start Logs method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Œª req.Name: &#x27;Foo&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Œª end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;Response&quot;: &quot;Hello, Foo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="testing">Testing<a class="hash-link" href="#testing" title="Direct link to heading">‚Äã</a></h2><p>This project comes with integration tests. Run them with:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=== RUN   TestPing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/reqrsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/reqrsp2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/non-existent-method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- PASS: TestPing (0.62s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok      my-project/test 0.902s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Test are located in test directory. When run they are using current stage to
make requests and explore results.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="deployment">Deployment<a class="hash-link" href="#deployment" title="Direct link to heading">‚Äã</a></h2><p>Lets first make some change into project to enable deployment. For example
change &quot;pong&quot; string in Default method (file: api/ping/ping.go) to something
else. I&#x27;ll change it to &quot;my-project&quot; and than deploy changes with:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Building and deploying my-project to stage development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Building...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Uploading changes...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updating infrastructure...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploy successful!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build time: 636ms, upload: 789ms (5.4 MiB), update: 1.618s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To test new behavior run invoke again:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil invoke ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my-project</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Run also <code>mantil test</code> again, it is failing because of this change:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=== RUN   TestPing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reporter.go:23:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Error Trace:    reporter.go:23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        chain.go:21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        string.go:115</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        ping_test.go:17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Error:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            expected string equal to:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             &quot;pong&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            but got:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             &quot;my-project&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Test:           TestPing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/reqrsp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/reqrsp2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    printer.go:54: POST https://b2vhijcf2d.execute-api.eu-central-1.amazonaws.com/ping/non-existent-method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- FAIL: TestPing (0.58s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit status 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FAIL    my-project/test 0.867s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="working">Working<a class="hash-link" href="#working" title="Direct link to heading">‚Äã</a></h2><p>There is <code>mantil watch</code> command to support this change/deploy/invoke cycle. It
is monitoring project files for changes. On each change it deploys project and
can call a method or run tests. Run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mantil watch --method ping</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>and then change return string of the Default method and save changes few times
to get the feeling.</p><p>To create new API run generate add implementation and deploy.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">‚ûú mantil generate api second</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating function second</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test/init.go already exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating test/second_test.go...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating api/second/second.go...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now edit api/second/second.go add methods and deploy.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="cleanup">Cleanup<a class="hash-link" href="#cleanup" title="Direct link to heading">‚Äã</a></h2><p>To remove project Stage from you AWS account run:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mantil stage destroy development</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>and after that <code>mantil aws uninstall</code> with the same attributes as in the first
<code>aws install</code> step. And that&#x27;s all. Your AWS account is the initial state.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/aws_detailed_setup/aws_uninstall"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Uninstall</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/concepts/node"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Node</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#your-first-mantil-project-1" class="table-of-contents__link toc-highlight">Your first Mantil project</a></li><li><a href="#project-stage" class="table-of-contents__link toc-highlight">Project Stage</a></li><li><a href="#exploring-demo-project" class="table-of-contents__link toc-highlight">Exploring demo project</a></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#working" class="table-of-contents__link toc-highlight">Working</a></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/mantilcommunity/shared_invite/zt-z3iy0lsn-7zD_6nqEucsgygTvHmnxAw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/MantilDev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Mantil, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cd744ea0.js"></script>
<script src="/assets/js/main.2a6389a4.js"></script>
</body>
</html>