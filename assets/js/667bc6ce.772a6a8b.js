"use strict";(self.webpackChunkmantil_docs=self.webpackChunkmantil_docs||[]).push([[790],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=i,f=d["".concat(c,".").concat(m)]||d[m]||l[m]||a;return n?r.createElement(f,o(o({ref:t},u),{},{components:n})):r.createElement(f,o({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<a;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5932:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return l}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],s={},c="Testing in Mantil Project",p={unversionedId:"usage/testing",id:"usage/testing",title:"Testing in Mantil Project",description:"Unit tests",source:"@site/docs/usage/testing.md",sourceDirName:"usage",slug:"/usage/testing",permalink:"/usage/testing",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Data Storage",permalink:"/usage/data_storage"},next:{title:"Environment Variables",permalink:"/api_configuration/env_variables"}},u={},l=[{value:"Unit tests",id:"unit-tests",level:2},{value:"Integration tests",id:"integration-tests",level:2},{value:"End to end tests",id:"end-to-end-tests",level:2}],d={toc:l};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"testing-in-mantil-project"},"Testing in Mantil Project"),(0,a.kt)("h2",{id:"unit-tests"},"Unit tests"),(0,a.kt)("p",null,"Your API's in Mantil are pure Go code. They don't have anything AWS or Lambda\nspecific. Mantil provides all infrastructure burden. Unit testing you API'a are\nlike unit testing any other Go struct.",(0,a.kt)("br",{parentName:"p"}),"\n","Our example project ping also provides example of a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mantil-io/template-ping/blob/master/api/ping/ping_test.go"},"trivial API\ntest"),".\nIt is there to show the idea of where and how to unit test API's."),(0,a.kt)("h2",{id:"integration-tests"},"Integration tests"),(0,a.kt)("p",null,"Integration tests are the category of tests that depend on some other\noutside resources. In the other example project,\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mantil-io/template-excuses"},"excuses"),", we have examples of\nboth\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mantil-io/template-excuses/blob/0a8c06a6d0d40fd4659c1538c772b7eaa8c7d5f5/api/excuses/excuses_test.go#L15"},"unit"),"\nand\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mantil-io/template-excuses/blob/0a8c06a6d0d40fd4659c1538c772b7eaa8c7d5f5/api/excuses/excuses_test.go#L28"},"integration"),"\ntests. In unit we are mocking outside service with in process HTTP server. And in\nintegration we are using real URL from the internet. So holding your integration tests side-by-side with the unit or moving them to another place are both valid options. It really depends on project."),(0,a.kt)("h2",{id:"end-to-end-tests"},"End to end tests"),(0,a.kt)("p",null,"Mantil project holds end to end tests in ",(0,a.kt)("inlineCode",{parentName:"p"},"/test")," folder (from the project root).\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/mantil-io/template-ping/blob/master/test/ping_test.go"},"Here"),"\nis an example of an end to end test for our ping project. You can run it with the ",(0,a.kt)("inlineCode",{parentName:"p"},"mantil test"),". It uses the current project stage to run HTTP request against\ndeployed API's. "),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/gavv/httpexpect"},"httpexpect")," is a great library for quickly\nbuilding requests and examining HTTP responses."))}m.isMDXComponent=!0}}]);